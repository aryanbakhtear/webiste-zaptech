<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Steam Accounts - Zap Tech</title>
    <link rel="icon" type="image/png" href="/images/logo.png">
    <link rel="shortcut icon" type="image/png" href="/images/logo.png">
    <link rel="stylesheet" href="/css/steamacc.css">
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/css/steamacc.css">
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

->

    <link rel="stylesheet" href="/css/steamacc.css">
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @font-face {
            font-family: 'Navbar';
            src: url('/fonts/navbar.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }
        
        body, h1, h2, h3, h4, h5, h6, p, span, button, input, textarea, label, div:not(.public-account-card .account-details *) {
            font-family: 'Navbar', sans-serif !important;
        }
        
        /* Exclude card details from the font */
        .public-account-card .account-details,
        .public-account-card .account-details *,
        .account-item .account-details,
        .account-item .account-details * {
            font-family: inherit !important;
        }
    </style>
</head>
<body class="steamacc-page">
    <div class="navbar" id="navbar">
        <div class="logo-container">
            <img src="/images/logo.png" alt="LOGO OF WEBSITE" class="logo">
        </div>
        <button class="navbar-toggle" id="navbar-toggle" aria-label="Toggle navigation">
            <span class="navbar-toggle-icon" style="font-weight: bold; background-color: #6F43FE; padding: 8px;">&#9776;</span>
            <span class="navbar-toggle-close">&times;</span>
        </button>
        <div class="navbar-left">
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/website">Website</a></li>
                <li><a href="/video-tutorial">Video Tutorial</a></li>
                <li><a href="/pc-apps-and-games">Pc Apps & Games</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-translate="navbar.tools">Tools</a>
                    <ul class="dropdown-menu">
                        <li><a href="/personality" data-translate="navbar.personality">Personality</a></li>
                        <li><a href="/quran" data-translate="navbar.quran">Quran</a></li>
                        <li><a href="/steamacc">Steam Accounts</a></li>
                        <li><a href="https://gemini.google.com/share/5c74decaacc7" target="_blank" data-translate="navbar.kurdishImageAI">Kurdish Image AI</a></li>
                    </ul>
                </li>
                <li><a href="/#bg8">About Us</a></li>
                <li><a href="#" id="donate-btn">Donate $</a></li>
                <li><button class="language-switcher-btn" onclick="toggleLanguage()">کوردی</button></li>
            </ul>
        </div>
    </div>
    <div class="navbar-blur-bg"></div>

    <!-- Main content will go here -->
    <div class="main-content">
        <div class="steam-accounts-container">
            <h1 class="main-header">Free Steam Accounts</h1>
            <div class="explanation-container" style="position: relative; overflow: hidden; border-radius: 15px;">
                <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-image: url('https://ia801600.us.archive.org/30/items/steam-banner/steam-banner.jpeg'); background-size: cover; background-position: center; background-repeat: no-repeat; filter: blur(3px); z-index: 1;"></div>
                <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.352); z-index: 2;"></div>
                <div style="padding: 30px; position: relative; z-index: 3;">
                    <p class="explanation-text" style="color: white; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8); font-size: 1.1em; line-height: 1.6;">
                        Welcome to our Steam Accounts section! We provide free Steam accounts on a daily basis to help gamers access games and features without any cost.
                    </p>
                </div>
            </div>
            
            
            
            <!-- Public Accounts Display -->
            <div class="public-accounts-container">
                <h2 class="public-header">Available Steam Accounts</h2>
                
                <!-- Search Section -->
                <div class="search-section">
                    <input type="text" id="search-input" class="search-input" placeholder="Search account details..." />
                    <button onclick="searchAccounts()" class="search-btn">Search</button>
                    <button onclick="clearSearch()" class="clear-search-btn">Clear</button>
                </div>
                
                <div class="accounts-grid" id="public-accounts-grid">
                    <!-- Public accounts will be displayed here -->
                </div>
                
                <!-- Pagination -->
                <div class="pagination-container" id="pagination-container" style="display: none;">
                    <div class="pagination-info" id="pagination-info">
                        Showing page 1 of 1
                    </div>
                    <div class="pagination-buttons">
                        <button onclick="previousPage()" class="pagination-btn" id="prev-btn">Previous</button>
                        <span class="page-number" id="current-page">1</span>
                        <button onclick="nextPage()" class="pagination-btn" id="next-btn">Next</button>
                    </div>
                </div>
                
                <div class="refresh-section">
                    <button onclick="refreshPublicAccounts()" class="refresh-btn">Refresh Accounts</button>
                    <p class="refresh-info">Click refresh to see newly published accounts</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/java script/navbar.js"></script>
    <script src="/java script/language-switcher.js"></script>
    <script src="/java script/firebase.js"></script>
    <script>
        // Load translations when page loads
        document.addEventListener('DOMContentLoaded', function() {
            loadTranslations();
            loadPublicAccounts();
            // Minimal admin bar inline
            const adminBar = document.createElement('div');
            adminBar.innerHTML = `
                <div id="adminbar" style="margin: 16px 0; padding: 12px; border-radius: 10px; background: rgba(111,67,254,0.08); border: 1px solid rgba(111,67,254,0.2);">
                    <div style="display:flex; flex-wrap:wrap; gap:10px; align-items:center;">
                        <span id="adminbar-status" style="font-size: 0.95rem; color:#333;">Not signed in</span>
                        <button id="adminbar-signin" style="padding:8px 12px; border:none; border-radius:8px; background:#6F43FE; color:#fff; cursor:pointer;">Sign in</button>
                        <button id="adminbar-signout" style="padding:8px 12px; border:none; border-radius:8px; background:#6c757d; color:#fff; cursor:pointer; display:none;">Sign out</button>
                    </div>
                    <div id="adminbar-editor" style="margin-top:10px; display:none;">
                        <textarea id="adminbar-text" placeholder="Paste Steam account details here..." style="width:100%; min-height:110px; padding:12px; border:2px solid #e1e5e9; border-radius:10px; font-size:15px; resize:vertical;"></textarea>
                        <button id="adminbar-publish" style="margin-top:10px; padding:10px 16px; border:none; border-radius:8px; background: linear-gradient(135deg, #28a745, #20c997); color:#fff; font-weight:600; cursor:pointer;">Publish</button>
                    </div>
                </div>`;
            const container = document.querySelector('.steam-accounts-container');
            container.insertBefore(adminBar, container.children[container.children.length - 1]);

            function refreshAdminbarUI(){
                const status = document.getElementById('adminbar-status');
                const btnIn = document.getElementById('adminbar-signin');
                const btnOut = document.getElementById('adminbar-signout');
                const editor = document.getElementById('adminbar-editor');
                if (!window.SteamAccData || !SteamAccData.getCurrentUser) return;
                const user = SteamAccData.getCurrentUser();
                const allowed = SteamAccData.isAllowedUser && SteamAccData.isAllowedUser();
                if (user) {
                    status.textContent = 'Signed in as ' + (user.email || 'Admin');
                    btnIn.style.display = 'none';
                    btnOut.style.display = 'inline-block';
                    editor.style.display = allowed ? 'block' : 'none';
                } else {
                    status.textContent = 'Not signed in';
                    btnIn.style.display = 'inline-block';
                    btnOut.style.display = 'none';
                    editor.style.display = 'none';
                }
            }
            if (window.SteamAccData && SteamAccData.onAuthStateChanged) {
                SteamAccData.onAuthStateChanged(function(){
                    refreshAdminbarUI();
                });
            }
            document.getElementById('adminbar-signin').addEventListener('click', function(){
                SteamAccData.signIn().then(function(){
                    showNotification('Signed in successfully', 'success');
                    refreshAdminbarUI();
                }).catch(function(err){
                    console.warn('Sign-in error:', err);
                    const msg = (err && (err.message || err.code)) ? (err.message || err.code) : 'Sign in failed';
                    showNotification(msg, 'error');
                });
            });
            document.getElementById('adminbar-signout').addEventListener('click', function(){
                SteamAccData.signOut().then(function(){
                    showNotification('Signed out', 'success');
                    refreshAdminbarUI();
                });
            });
            document.getElementById('adminbar-publish').addEventListener('click', function(){
                const accountContent = (document.getElementById('adminbar-text').value || '').trim();
                if (!accountContent) {
                    showNotification('Please paste account details!', 'warning');
                    return;
                }
                const newAccount = {
                    id: Date.now(),
                    content: accountContent,
                    datePublished: new Date().toLocaleDateString(),
                    timePublished: new Date().toLocaleTimeString()
                };
                SteamAccData.addAccount(newAccount).then(function(){
                    document.getElementById('adminbar-text').value = '';
                    loadPublicAccounts();
                    showNotification('Published!', 'success');
                }).catch(function(err){
                    console.warn(err);
                    showNotification('Failed to publish. Please try again.', 'error');
                });
            });
            refreshAdminbarUI();
        });
        
        // Removed legacy admin modal and code access
        
        // Old publish function removed
        
        function parseAccountContent(content) {
            const emailMatch = content.match(/Email:\s*(.*)/);
            const passwordMatch = content.match(/Password:\s*(.*)/);
            const gamesMatch = content.match(/Games:\s*(.*)/);
            const notesMatch = content.match(/Notes:\s*(.*)/);

            return {
                email: emailMatch ? emailMatch[1].trim() : null,
                password: passwordMatch ? passwordMatch[1].trim() : null,
                games: gamesMatch ? gamesMatch[1].trim() : null,
                notes: notesMatch ? notesMatch[1].trim() : null
            };
        }
        
        // Delete from admin list removed on this page
        
        // Removed JSON/localStorage import/export logic
        
        function loadPublishedAccounts() {
            const accountsContainer = document.getElementById('accounts-container');
            SteamAccData.getAccounts().then(accounts => {
                if (!accounts || accounts.length === 0) {
                    accountsContainer.innerHTML = '<p class="no-accounts">No accounts published yet.</p>';
                    return;
                }
                let accountsHTML = '';
                accounts.forEach(account => {
                    const idSafe = account.id || account.docId || '';
                    accountsHTML += `
                        <div class=\"account-item\" data-id=\"${idSafe}\">
                            <div class=\"account-info\">
                                <div class=\"account-details\">
                                    <strong>Account:</strong><br>
                                    <pre class=\"account-text\">${account.content}</pre>
                                </div>
                                <div class=\"account-meta\">
                                    <small>Published: ${account.datePublished || ''} ${account.timePublished ? 'at ' + account.timePublished : ''}</small>
                                </div>
                            </div>
                            <button onclick=\"deleteAccount('${idSafe}')\" class=\"delete-btn\">Delete</button>
                        </div>
                    `;
                });
                accountsContainer.innerHTML = accountsHTML;
            }).catch(() => {
                accountsContainer.innerHTML = '<p class="no-accounts">Unable to load accounts.</p>';
            });
        }
        
        // Public Accounts Display Functions
        let currentPage = 1;
        const accountsPerPage = 4; // 1 column, 4 rows
        
        function loadPublicAccounts() {
            const publicGrid = document.getElementById('public-accounts-grid');
            SteamAccData.getAccounts().then(accounts => {
                const list = Array.isArray(accounts) ? accounts : [];
                if (list.length === 0) {
                    publicGrid.innerHTML = `
                        <div class="no-public-accounts">
                            <i class="fas fa-info-circle"></i>
                            <h3>No Steam Accounts Available</h3>
                            <p>Check back later for new accounts!</p>
                        </div>
                    `;
                    document.getElementById('pagination-container').style.display = 'none';
                    return;
                }
                // Calculate pagination
                const totalPages = Math.ceil(list.length / accountsPerPage);
                const startIndex = (currentPage - 1) * accountsPerPage;
                const endIndex = startIndex + accountsPerPage;
                const currentAccounts = list.slice(startIndex, endIndex);
                // Display current page accounts
                let accountsHTML = '';
                currentAccounts.forEach(account => {
                    const contentSafe = (account.content || '').replace(/`/g, '\\`');
                    accountsHTML += `
                        <div class="public-account-card">
                            <div class="account-header">
                                <h3>Steam Account</h3>
                                <span class="publish-date">${account.datePublished || ''}</span>
                            </div>
                            <div class="account-details">
                                <div class="detail-row">
                                    <div class="copy-field">
                                        <pre class="field-value account-text">${account.content || ''}</pre>
                                        <button onclick="copyToClipboard('${contentSafe}')" class="copy-btn" title="Copy Account">
                                            <i class="fas fa-copy"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                });
                publicGrid.innerHTML = accountsHTML;
                // Update pagination
                updatePagination(list.length, totalPages);
            }).catch(() => {
                publicGrid.innerHTML = '<div class="no-public-accounts"><h3>Unable to load accounts</h3></div>';
                document.getElementById('pagination-container').style.display = 'none';
            });
        }
        
        function updatePagination(totalAccounts, totalPages) {
            const paginationContainer = document.getElementById('pagination-container');
            const paginationInfo = document.getElementById('pagination-info');
            const currentPageSpan = document.getElementById('current-page');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            
            if (totalPages <= 1) {
                paginationContainer.style.display = 'none';
                return;
            }
            
            paginationContainer.style.display = 'block';
            paginationInfo.textContent = `Showing page ${currentPage} of ${totalPages} (${totalAccounts} total accounts)`;
            currentPageSpan.textContent = currentPage;
            
            // Update button states
            prevBtn.disabled = currentPage === 1;
            nextBtn.disabled = currentPage === totalPages;
        }
        
        function nextPage() {
            const totalPages = parseInt(document.getElementById('pagination-info').textContent.split(' of ')[1]) || 1;
            
            if (currentPage < totalPages) {
                currentPage++;
                loadPublicAccounts();
            }
        }
        
        function previousPage() {
            if (currentPage > 1) {
                currentPage--;
                loadPublicAccounts();
            }
        }
        
        function refreshPublicAccounts() {
            currentPage = 1; // Reset to first page when refreshing
            loadPublicAccounts();
            showNotification('Accounts refreshed!', 'success');
        }
        
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(function() {
                showNotification('Copied to clipboard!', 'success');
            }).catch(function(err) {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showNotification('Copied to clipboard!', 'success');
            });
        }
        
        function manageAccounts() {
            showNotification('Manage Accounts feature coming soon!', 'info');
        }
        

        
        // Notification System
        function showNotification(message, type) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.textContent = message;
            
            // Add styles
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 25px;
                border-radius: 10px;
                color: white;
                font-weight: bold;
                z-index: 10000;
                animation: slideIn 0.3s ease;
                max-width: 300px;
            `;
            
            // Set background color based on type
            switch(type) {
                case 'success':
                    notification.style.backgroundColor = '#28a745';
                    break;
                case 'error':
                    notification.style.backgroundColor = '#dc3545';
                    break;
                case 'warning':
                    notification.style.backgroundColor = '#ffc107';
                    notification.style.color = '#333';
                    break;
                case 'info':
                    notification.style.backgroundColor = '#17a2b8';
                    break;
            }
            
            // Add to page
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }
        
        // Add CSS animations and admin styles
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
            
            /* Admin Icon Styles */
            .admin-icon-container {
                position: fixed;
                bottom: 30px;
                right: 30px;
                z-index: 1000;
            }
            
            .admin-icon {
                width: 50px;
                height: 50px;
                border-radius: 50%;
                background: linear-gradient(135deg, #6F43FE, #8B5CF6);
                border: none;
                color: white;
                font-size: 20px;
                cursor: pointer;
                box-shadow: 0 4px 15px rgba(111, 67, 254, 0.3);
                transition: all 0.3s ease;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .admin-icon:hover {
                transform: scale(1.1);
                box-shadow: 0 6px 20px rgba(111, 67, 254, 0.4);
            }
            
            .admin-icon:active {
                transform: scale(0.95);
            }
            
            /* Admin Modal Styles */
            .admin-modal {
                display: none;
                position: fixed;
                z-index: 10000;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
                backdrop-filter: blur(5px);
                align-items: center;
                justify-content: center;
            }
            
            .admin-modal-content {
                background: white;
                border-radius: 15px;
                width: 90%;
                max-width: 600px;
                max-height: 80vh;
                overflow-y: auto;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
                animation: modalSlideIn 0.3s ease;
            }
            
            .admin-modal-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 20px 25px;
                border-bottom: 2px solid #f0f0f0;
                background: linear-gradient(135deg, #6F43FE, #8B5CF6);
                color: white;
                border-radius: 15px 15px 0 0;
            }
            
            .admin-modal-header h3 {
                margin: 0;
                font-size: 1.5rem;
            }
            
            .close-modal {
                background: none;
                border: none;
                color: white;
                font-size: 28px;
                cursor: pointer;
                padding: 0;
                width: 30px;
                height: 30px;
                display: flex;
                align-items: center;
                justify-content: center;
                border-radius: 50%;
                transition: background-color 0.3s ease;
            }
            
            .close-modal:hover {
                background-color: rgba(255, 255, 255, 0.2);
            }
            
            .admin-modal-body {
                padding: 25px;
            }
            
            @keyframes modalSlideIn {
                from { 
                    transform: scale(0.7); 
                    opacity: 0; 
                }
                to { 
                    transform: scale(1); 
                    opacity: 1; 
                }
            }
            
            /* Admin Actions Styles */
            .admin-actions {
                margin-top: 20px;
                padding: 20px;
                background: #f8f9fa;
                border-radius: 10px;
                border: 2px solid #e9ecef;
            }
            
            .export-btn {
                background: linear-gradient(135deg, #28a745, #20c997);
                color: white;
                border: none;
                padding: 12px 24px;
                border-radius: 8px;
                font-weight: bold;
                cursor: pointer;
                transition: all 0.3s ease;
                margin-bottom: 10px;
            }
            
            .export-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
            }
            
            .export-info {
                color: #6c757d;
                font-size: 0.9rem;
                margin: 0;
                font-style: italic;
            }
            
            /* Responsive adjustments */
            @media (max-width: 768px) {
                .admin-icon-container {
                    bottom: 20px;
                    right: 20px;
                }
                
                .admin-icon {
                    width: 45px;
                    height: 45px;
                    font-size: 18px;
                }
                
                .admin-modal-content {
                    width: 95%;
                    margin: 20px;
                }
            }
        `;
        document.head.appendChild(style);
        
        // Enter key support for admin code
        document.getElementById('admin-code').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkAdminCode();
            }
        });
        

        
        // Close modal when clicking outside
        document.getElementById('admin-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeAdminModal();
            }
        });
        
        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeAdminModal();
            }
        });
        
        // Search functionality
        function searchAccounts() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase().trim();
            if (!searchTerm) {
                showNotification('Please enter a search term!', 'warning');
                return;
            }
            
            const accounts = JSON.parse(localStorage.getItem('steamAccounts') || '[]');
            const filteredAccounts = accounts.filter(account => 
                account.content.toLowerCase().includes(searchTerm)
            );
            
            if (filteredAccounts.length === 0) {
                document.getElementById('public-accounts-grid').innerHTML = `
                    <div class="no-public-accounts">
                        <i class="fas fa-search"></i>
                        <h3>No Results Found</h3>
                        <p>No accounts match your search: "${searchTerm}"</p>
                    </div>
                `;
                document.getElementById('pagination-container').style.display = 'none';
            } else {
                displaySearchResults(filteredAccounts);
                document.getElementById('pagination-container').style.display = 'none';
            }
            
            showNotification(`Found ${filteredAccounts.length} account(s)`, 'success');
        }
        
        function clearSearch() {
            document.getElementById('search-input').value = '';
            currentPage = 1;
            loadPublicAccounts();
            showNotification('Search cleared!', 'info');
        }
        
        function displaySearchResults(accounts) {
            const publicGrid = document.getElementById('public-accounts-grid');
            
            let accountsHTML = '';
            accounts.forEach(account => {
                accountsHTML += `
                    <div class="public-account-card">
                        <div class="account-header">
                            <h3>Steam Account</h3>
                            <span class="publish-date">${account.datePublished}</span>
                        </div>
                        <div class="account-details">
                            <pre class="account-text">${account.content}</pre>
                        </div>
                    </div>
                `;
            });
            
            publicGrid.innerHTML = accountsHTML;
        }
        
        // Enter key support for search
        document.getElementById('search-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchAccounts();
            }
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Video Tutorial - Zap Tech</title>
  <link rel="icon" type="image/png" href="/images/logo.png">
  <link rel="shortcut icon" type="image/png" href="/images/logo.png">
  <link rel="stylesheet" href="/css/index.css">
  <link rel="stylesheet" href="/css/navbar.css">
  <link rel="stylesheet" href="/css/bg5.css">
  <link rel="stylesheet" href="/css/videotutorial.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="body video-tutorial-page">
  <div class="navbar" id="navbar">
    <div class="logo-container">
      <img src="/images/logo.png" alt="LOGO OF WEBSITE" class="logo">
    </div>
    <button class="navbar-toggle" id="navbar-toggle" aria-label="Toggle navigation">
      <span class="navbar-toggle-icon" style="font-weight: bold; background-color: #6F43FE; padding: 8px;">&#9776;</span>
      <span class="navbar-toggle-close">&times;</span>
    </button>
    <div class="navbar-left">
      <ul>
                                 <li><a href="/">Home</a></li>
                <li><a href="/website">Website</a></li>
                <li><a href="/video-tutorial">Video Tutorial</a></li>
                <li><a href="/pc-apps-and-games">Pc Apps & Games</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-translate="navbar.tools">Tools</a>
                    <ul class="dropdown-menu">
                        <li><a href="/personality" data-translate="navbar.personality">Personality</a></li>
                        <li><a href="/quran" data-translate="navbar.quran">Quran</a></li>
                        <li><a href="/steamacc">Steam Accounts</a></li>
                        <li><a href="https://gemini.google.com/share/5c74decaacc7" target="_blank" data-translate="navbar.kurdishImageAI">Kurdish Image AI</a></li>
                        <li><a href="https://g.co/gemini/share/743738fcd56d" target="_blank" rel="noopener">Ai Auto Prompt</a></li>
                    </ul>
                </li>
                <li><a href="/#bg8">About Us</a></li>
        <li><a href="#" id="donate-btn">Donate $</a></li>
        <li><button class="language-switcher-btn" onclick="toggleLanguage()">کوردی</button></li>
      </ul>
    </div>


  </div>
  <div class="bg5-container">
    <p class="bg5header">Pick Tutorial</p>
    <p class="bgg5text">We Publish tutorial videos that guide users through simple tech <br> issues and offer access to customized versions of top apps, <br> helping you use your digital tools more effectively.</p>
  </div>
  <div class="navbar-blur-bg"></div>

  <div class="items">
    <!-- Videos will be dynamically loaded here -->
  </div>
  <!-- Mobile pager -->
  <div id="mobile-video-pager" style="display:none; gap:8px; align-items:center; justify-content:center; margin: 12px auto 24px auto;">
    <button id="mv-prev" style="padding:8px 12px; border-radius:8px; border:1px solid #ddd; background:#fff; cursor:pointer;">Previous</button>
    <span id="mv-info" style="font-family:'NavbarFont','Arial',sans-serif; color:#fff;">1 / 1</span>
    <button id="mv-next" style="padding:8px 12px; border-radius:8px; border:1px solid #ddd; background:#fff; cursor:pointer;">Next</button>
  </div>
  <script src="/java script/navbar.js"></script>
  <script src="/java script/smooth-scroll.js"></script>
  <script src="/java script/ultra-optimizer.js"></script>
  <script src="/java script/language-switcher.js"></script>
  <script src="/java script/videotutorials.js"></script>
  
     <!-- Donation Modal -->
   <div class="donate-modal" id="donate-modal">
       <div class="donate-modal-content">
           <div class="donate-header">
           </div>
           <div class="donate-body">
               <p class="donate-message">Help us continue providing free tools, tutorials, and resources to the community.</p>
               <div class="donate-options">
                   <button class="card-close-btn" onclick="closeDonateModal()">
                       <i class="fas fa-times"></i>
                   </button>
                   <div class="donate-card fastpay-card">
                       <div class="card-background" style="background-image: url('/images/fastpay.png');">
                       </div>
                       <div class="card-content">
                           <div class="card-header">
                               <h3>Fastpay</h3>
                           </div>
                           <div class="card-info">
                               <p class="phone-number">+964750 901 91 66</p>
                               <div class="card-actions">
                                   <button class="copy-btn" onclick="copyToClipboard('+964750 901 91 66')">
                                       <i class="fas fa-copy"></i> Copy
                                   </button>
                               </div>
                           </div>
                       </div>
                   </div>
                   
                   <div class="donate-card fib-card">
                       <div class="card-background" style="background-image: url('/images/fib.png');">
                       </div>
                       <div class="card-content">
                           <div class="card-header">
                               <h3>FIB Bank</h3>
                           </div>
                           <div class="card-info">
                               <p class="phone-number">+964750 901 91 66</p>
                               <div class="card-actions">
                                   <button class="copy-btn" onclick="copyToClipboard('+964750 901 91 66')">
                                       <i class="fas fa-copy"></i> Copy
                                   </button>
                               </div>
                           </div>
                       </div>
                   </div>
                   
                   <div class="donate-card qi-card">
                       <div class="card-background" style="background-image: url('/images/qi card.png');">
                       </div>
                       <div class="card-content">
                           <div class="card-header">
                               <h3>Qi Card</h3>
                           </div>
                           <div class="card-info">
                               <p class="phone-number">+964750 901 91 66</p>
                               <p class="card-number">Card: 7111541806</p>
                               <div class="card-actions">
                                   <button class="copy-btn" onclick="copyToClipboard('+964750 901 91 66')">
                                       <i class="fas fa-copy"></i> Copy Phone
                                   </button>
                                   <button class="copy-btn" onclick="copyToClipboard('7111541806')">
                                       <i class="fas fa-copy"></i> Copy Card
                                   </button>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </div>

  <script>
  // Mobile video pagination: show 4 per page on small screens
  (function(){
    const itemsContainer = document.querySelector('.items');
    if (!itemsContainer) return;
    const links = Array.from(itemsContainer.querySelectorAll('.video-hover-card-link'));
    const pager = document.getElementById('mobile-video-pager');
    const prevBtn = document.getElementById('mv-prev');
    const nextBtn = document.getElementById('mv-next');
    const info = document.getElementById('mv-info');
    let page = 1;
    const perPageMobile = 4;

    function isMobile(){
      return window.matchMedia('(max-width: 600px)').matches;
    }

    function totalPages(){
      if (!isMobile()) return 1;
      return Math.max(1, Math.ceil(links.length / perPageMobile));
    }

    function render(){
      const mobile = isMobile();
      pager.style.display = mobile && totalPages() > 1 ? 'flex' : 'none';
      if (!mobile){
        links.forEach(el => { el.style.display = ''; });
        return;
      }
      const tp = totalPages();
      if (page > tp) page = tp;
      const start = (page - 1) * perPageMobile;
      const end = start + perPageMobile;
      links.forEach((el, idx) => {
        el.style.display = (idx >= start && idx < end) ? '' : 'none';
      });
      info.textContent = page + ' / ' + tp;
      prevBtn.disabled = page <= 1;
      nextBtn.disabled = page >= tp;
    }

    if (prevBtn && nextBtn){
      prevBtn.addEventListener('click', function(){ if (page > 1){ page--; render(); } });
      nextBtn.addEventListener('click', function(){ if (page < totalPages()){ page++; render(); } });
    }

    window.addEventListener('resize', render);
    document.addEventListener('DOMContentLoaded', render);
    // In case this runs after DOMContentLoaded
    render();
  })();
  // Donation modal functionality
  document.addEventListener('DOMContentLoaded', function() {
    const donateBtn = document.getElementById('donate-btn');
    const donateModal = document.getElementById('donate-modal');

    if (donateBtn && donateModal) {
      donateBtn.addEventListener('click', function(e) {
        e.preventDefault();
        donateModal.style.display = 'flex';
        setTimeout(() => {
          donateModal.classList.add('show');
        }, 10);
      });
    }

    // Close modal when clicking outside
    if (donateModal) {
      donateModal.addEventListener('click', function(e) {
        if (e.target === donateModal) {
          donateModal.classList.remove('show');
          setTimeout(() => {
            donateModal.style.display = 'none';
          }, 300);
        }
      });
    }

    // Close modal with Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && donateModal && donateModal.style.display === 'flex') {
        donateModal.classList.remove('show');
        setTimeout(() => {
          donateModal.style.display = 'none';
        }, 300);
      }
    });
  });

  // Close donate modal function
  function closeDonateModal() {
    const donateModal = document.getElementById('donate-modal');
    if (donateModal) {
      donateModal.classList.remove('show');
      setTimeout(() => {
        donateModal.style.display = 'none';
      }, 300);
    }
  }

  // Copy to clipboard function
  function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(function() {
      // Show success message
      const button = event.target.closest('.copy-btn');
      const originalText = button.innerHTML;
      button.innerHTML = '<i class="fas fa-check"></i> Copied!';
      button.style.background = '#00A651';
      
      setTimeout(() => {
        button.innerHTML = originalText;
        button.style.background = '';
    }, 2000);
  }).catch(function(err) {
    console.error('Could not copy text: ', err);
  });
}

// Video Tutorial Admin Panel
document.addEventListener('DOMContentLoaded', function(){
  // Create admin FAB (Floating Action Button)
  const adminFab = document.createElement('div');
  adminFab.id = 'video-admin-fab';
  adminFab.innerHTML = '⚙️';
  adminFab.style.cssText = `
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, #6F43FE, #4A00E0);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(111, 67, 254, 0.3);
    z-index: 1000;
    transition: all 0.3s ease;
  `;
  adminFab.addEventListener('mouseenter', () => {
    adminFab.style.transform = 'scale(1.1)';
  });
  adminFab.addEventListener('mouseleave', () => {
    adminFab.style.transform = 'scale(1)';
  });
  document.body.appendChild(adminFab);

  // Create admin panel
  const adminPanel = document.createElement('div');
  adminPanel.id = 'video-admin-panel';
  adminPanel.style.cssText = `
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: none;
    z-index: 1001;
    overflow-y: auto;
  `;
  
  adminPanel.innerHTML = `
    <div style="
      background: white;
      margin: 20px auto;
      max-width: 600px;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    ">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2 id="video-admin-title" style="margin: 0; color: #6F43FE;">Video Tutorial Admin</h2>
        <button id="video-admin-close" style="
          background: #dc3545;
          color: white;
          border: none;
          border-radius: 6px;
          padding: 8px 12px;
          cursor: pointer;
          font-size: 16px;
        ">✕</button>
      </div>
      
      <div id="video-admin-auth" style="text-align: center; padding: 20px;">
        <p id="video-admin-signin-prompt">Sign in to manage video tutorials</p>
        <button id="video-admin-signin" style="
          background: #6F43FE;
          color: white;
          border: none;
          border-radius: 8px;
          padding: 12px 24px;
          cursor: pointer;
          font-size: 16px;
          margin-right: 10px;
        ">Sign In</button>
        <button id="video-admin-signout" style="
          background: #6c757d;
          color: white;
          border: none;
          border-radius: 8px;
          padding: 12px 24px;
          cursor: pointer;
          font-size: 16px;
          display: none;
        ">Sign Out</button>
      </div>
      
      <div id="video-admin-editor" style="display: none;">
        <h3 id="video-admin-add-new">Add New Video Tutorial</h3>
        <input id="vt-title" placeholder="English Title" style="
          width: 100%;
          padding: 12px;
          border: 2px solid #e1e5e9;
          border-radius: 8px;
          font-size: 16px;
          margin-bottom: 12px;
          box-sizing: border-box;
        "/>
        <textarea id="vt-description" placeholder="English Description" style="
          width: 100%;
          min-height: 80px;
          padding: 12px;
          border: 2px solid #e1e5e9;
          border-radius: 8px;
          font-size: 16px;
          margin-bottom: 12px;
          resize: vertical;
          box-sizing: border-box;
        "></textarea>
        <input id="vt-ku-title" placeholder="Kurdish Title (کوردی)" style="
          width: 100%;
          padding: 12px;
          border: 2px solid #e1e5e9;
          border-radius: 8px;
          font-size: 16px;
          margin-bottom: 12px;
          box-sizing: border-box;
        "/>
        <textarea id="vt-ku-description" placeholder="Kurdish Description (کوردی)" style="
          width: 100%;
          min-height: 80px;
          padding: 12px;
          border: 2px solid #e1e5e9;
          border-radius: 8px;
          font-size: 16px;
          margin-bottom: 12px;
          resize: vertical;
          box-sizing: border-box;
        "></textarea>
        <input id="vt-youtube-link" placeholder="YouTube Link (e.g., https://youtu.be/VIDEO_ID)" style="
          width: 100%;
          padding: 12px;
          border: 2px solid #e1e5e9;
          border-radius: 8px;
          font-size: 16px;
          margin-bottom: 16px;
          box-sizing: border-box;
        "/>
        <button id="video-admin-publish" style="
          width: 100%;
          padding: 12px;
          border: none;
          border-radius: 8px;
          background: linear-gradient(135deg, #28a745, #20c997);
          color: white;
          font-weight: 600;
          cursor: pointer;
          font-size: 16px;
          margin-bottom: 12px;
        ">Publish Video</button>
        
        <div style="display: flex; gap: 8px;">
          <button id="video-admin-update" style="
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 6px;
            background: #0d6efd;
            color: white;
            cursor: pointer;
            font-size: 14px;
          ">Update</button>
          <button id="video-admin-delete" style="
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 6px;
            background: #dc3545;
            color: white;
            cursor: pointer;
            font-size: 14px;
          ">Delete</button>
        </div>
        <input id="vt-edit-id" placeholder="Video ID for Update/Delete" style="
          width: 100%;
          padding: 8px;
          border: 1px solid #ddd;
          border-radius: 6px;
          font-size: 14px;
          margin-top: 8px;
          box-sizing: border-box;
        "/>
      </div>
    </div>
  `;
  
  document.body.appendChild(adminPanel);

  // Admin panel functionality
  let isAdminPanelOpen = false;
  
  function toggleAdminPanel() {
    isAdminPanelOpen = !isAdminPanelOpen;
    adminPanel.style.display = isAdminPanelOpen ? 'block' : 'none';
  }
  
  function updateAuthUI(user) {
    const authDiv = document.getElementById('video-admin-auth');
    const editorDiv = document.getElementById('video-admin-editor');
    const signinBtn = document.getElementById('video-admin-signin');
    const signoutBtn = document.getElementById('video-admin-signout');
    
    if (user && window.VideoTutorialsData && window.VideoTutorialsData.isAllowedUser()) {
      authDiv.style.display = 'none';
      editorDiv.style.display = 'block';
      signoutBtn.style.display = 'inline-block';
    } else {
      authDiv.style.display = 'block';
      editorDiv.style.display = 'none';
      signoutBtn.style.display = 'none';
    }
    
    // Update translations
    updateVideoAdminTranslations();
  }
  
  function updateVideoAdminTranslations() {
    if (window.getTranslation) {
      const elements = {
        'video-admin-title': 'videoAdmin.title',
        'video-admin-signin-prompt': 'videoAdmin.signInPrompt',
        'video-admin-signin': 'videoAdmin.signIn',
        'video-admin-signout': 'videoAdmin.signOut',
        'video-admin-add-new': 'videoAdmin.addNewVideo',
        'vt-title': 'videoAdmin.englishTitle',
        'vt-description': 'videoAdmin.englishDescription',
        'vt-ku-title': 'videoAdmin.kurdishTitle',
        'vt-ku-description': 'videoAdmin.kurdishDescription',
        'vt-youtube-link': 'videoAdmin.youtubeLink',
        'video-admin-publish': 'videoAdmin.publishVideo',
        'video-admin-update': 'videoAdmin.update',
        'video-admin-delete': 'videoAdmin.delete',
        'vt-edit-id': 'videoAdmin.videoIdPlaceholder'
      };
      
      Object.entries(elements).forEach(([id, translationKey]) => {
        const element = document.getElementById(id);
        if (element) {
          if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = window.getTranslation(translationKey);
          } else {
            element.textContent = window.getTranslation(translationKey);
          }
        }
      });
    }
  }

  // Event listeners
  adminFab.addEventListener('click', toggleAdminPanel);
  document.getElementById('video-admin-close').addEventListener('click', toggleAdminPanel);
  adminPanel.addEventListener('click', (e) => {
    if (e.target === adminPanel) toggleAdminPanel();
  });

  // Auth event listeners
  document.getElementById('video-admin-signin').addEventListener('click', async function(){
    if (!window.VideoTutorialsData || !window.VideoTutorialsData.signIn){
      alert(window.getTranslation ? window.getTranslation('videoAdmin.firebaseNotReady') : 'Firebase not ready. Please reload the page.');
      return;
    }
    try { 
      await window.VideoTutorialsData.signIn(); 
    } catch(e) { 
      console.warn(e); 
      const errorMsg = window.getTranslation ? window.getTranslation('videoAdmin.signInFailed') : 'Sign-in failed';
      alert(errorMsg + ': ' + (e && (e.message || e.code) || 'Unknown error')); 
    }
  });
  
  document.getElementById('video-admin-signout').addEventListener('click', async function(){
    try { 
      await window.VideoTutorialsData.signOut(); 
    } catch(e) { 
      console.warn(e); 
    }
  });

  // Publish video
  document.getElementById('video-admin-publish').addEventListener('click', async function(){
    const title = document.getElementById('vt-title').value.trim();
    const description = document.getElementById('vt-description').value.trim();
    const kuTitle = document.getElementById('vt-ku-title').value.trim();
    const kuDescription = document.getElementById('vt-ku-description').value.trim();
    const youtubeLink = document.getElementById('vt-youtube-link').value.trim();
    
    if (!title || !youtubeLink){ 
      alert(window.getTranslation ? window.getTranslation('videoAdmin.titleRequired') : 'Title and YouTube link are required'); 
      return; 
    }
    
    try {
      await window.VideoTutorialsData.addVideo({ 
        title, 
        description, 
        kuTitle, 
        kuDescription, 
        youtubeLink 
      });
      
      // Clear form
      document.getElementById('vt-title').value = '';
      document.getElementById('vt-description').value = '';
      document.getElementById('vt-ku-title').value = '';
      document.getElementById('vt-ku-description').value = '';
      document.getElementById('vt-youtube-link').value = '';
      
      // Refresh videos
      await renderVideos();
      alert(window.getTranslation ? window.getTranslation('videoAdmin.publishedSuccess') : 'Video published successfully!');
    } catch(e){ 
      alert(e.message || (window.getTranslation ? window.getTranslation('videoAdmin.publishFailed') : 'Failed to publish video')); 
    }
  });

  // Update video
  document.getElementById('video-admin-update').addEventListener('click', async function(){
    const id = document.getElementById('vt-edit-id').value.trim();
    if (!id){ 
      alert(window.getTranslation ? window.getTranslation('videoAdmin.videoIdRequired') : 'Enter Video ID'); 
      return; 
    }
    
    const payload = {
      title: document.getElementById('vt-title').value.trim() || undefined,
      description: document.getElementById('vt-description').value.trim() || undefined,
      kuTitle: document.getElementById('vt-ku-title').value.trim() || undefined,
      kuDescription: document.getElementById('vt-ku-description').value.trim() || undefined,
      youtubeLink: document.getElementById('vt-youtube-link').value.trim() || undefined
    };
    
    try {
      await window.VideoTutorialsData.updateVideo(id, payload);
      await renderVideos();
      alert(window.getTranslation ? window.getTranslation('videoAdmin.updatedSuccess') : 'Video updated successfully!');
    } catch(e){ 
      alert(e.message || (window.getTranslation ? window.getTranslation('videoAdmin.updateFailed') : 'Failed to update video')); 
    }
  });

  // Delete video
  document.getElementById('video-admin-delete').addEventListener('click', async function(){
    const id = document.getElementById('vt-edit-id').value.trim();
    if (!id){ 
      alert(window.getTranslation ? window.getTranslation('videoAdmin.videoIdRequired') : 'Enter Video ID'); 
      return; 
    }
    const confirmMsg = window.getTranslation ? window.getTranslation('videoAdmin.deleteConfirm') : 'Delete this video?';
    if (!confirm(confirmMsg)) return;
    
    try {
      await window.VideoTutorialsData.deleteVideo(id);
      document.getElementById('vt-edit-id').value = '';
      await renderVideos();
      alert(window.getTranslation ? window.getTranslation('videoAdmin.deletedSuccess') : 'Video deleted successfully!');
    } catch(e){ 
      alert(e.message || (window.getTranslation ? window.getTranslation('videoAdmin.deleteFailed') : 'Failed to delete video')); 
    }
  });

  // Initialize auth state listener
  if (window.VideoTutorialsData && window.VideoTutorialsData.onAuthStateChanged){
    window.VideoTutorialsData.onAuthStateChanged(function(user){
      updateAuthUI(user);
    });
  }

  // Video rendering function
  async function renderVideos() {
    try {
      const itemsContainer = document.querySelector('.items');
      if (!itemsContainer) return;
      
      // Get videos from Firebase
      const firebaseVideos = window.VideoTutorialsData ? await window.VideoTutorialsData.getVideos() : [];
      
      // Static videos (existing hardcoded videos)
      const staticVideos = [
        {
          title: "How to Activate Microsoft Office When Installed",
          description: "Learn how to activate Microsoft Office after installation with step-by-step instructions",
          youtubeLink: "https://youtu.be/52Pwd2SXZyU?si=TZe1xLe-DpK6ckvG",
          youtubeId: "52Pwd2SXZyU",
          thumbnail: "https://i.ytimg.com/vi/52Pwd2SXZyU/hqdefault.jpg"
        },
        {
          title: "Free Steam Account",
          description: "Visit our website to get free accounts. We post daily, and you can ask for accounts.",
          youtubeLink: "https://youtu.be/hO4IuHziumY?si=ITOq9lZUcqDxSDdi",
          youtubeId: "hO4IuHziumY",
          thumbnail: "https://i.ytimg.com/vi/hO4IuHziumY/hqdefault.jpg"
        },
        {
          title: "FIX LAG IN GAMES AND RENDER",
          description: "how to fix lag in games and render by clearing you ram cache",
          youtubeLink: "https://youtu.be/d26aCgu9lw8",
          youtubeId: "d26aCgu9lw8",
          thumbnail: "https://i.ytimg.com/vi/d26aCgu9lw8/hqdefault.jpg"
        },
        {
          title: "New Video Tutorial",
          description: "Check out our latest tutorial video with helpful tips and tricks",
          youtubeLink: "https://www.youtube.com/shorts/j-J_9DiJyOw",
          youtubeId: "j-J_9DiJyOw",
          thumbnail: "https://i.ytimg.com/vi/j-J_9DiJyOw/hqdefault.jpg"
        },
        {
          title: "New Epic Game Tutorial",
          description: "Learn the latest gaming techniques and strategies in this epic tutorial",
          youtubeLink: "https://youtu.be/du9LlqevV84?si=CXArqggJP7UyOfTA",
          youtubeId: "du9LlqevV84",
          thumbnail: "https://i.ytimg.com/vi/du9LlqevV84/hqdefault.jpg"
        },
        {
          title: "How to Install Paid Apps and Games on iOS Devices",
          description: "Learn how to install paid apps and games on your iOS devices safely and easily",
          youtubeLink: "https://youtu.be/cS80OTBgddE?si=wVAQKigQSw-grbmZ",
          youtubeId: "cS80OTBgddE",
          thumbnail: "https://i.ytimg.com/vi/cS80OTBgddE/hqdefault.jpg"
        },
        {
          title: "How to Delete Crack Games on Main Account by SteamTools by Mistake",
          description: "Learn how to safely remove cracked games from your main Steam account using SteamTools",
          youtubeLink: "#",
          youtubeId: "placeholder",
          thumbnail: "https://ia803202.us.archive.org/18/items/epic-game-adventure/Epic%20Game%20Adventure.jpg"
        },
        {
          title: "How to Download Black Ops 1 && Black Ops 2",
          description: "PLAY ZOMBIE, MULTIPLAYER ONLINE, FULL SERVERS AND WITH YOUR FRIENDS",
          youtubeLink: "https://www.youtube.com/watch?v=aUd_KZn3sv4&t",
          youtubeId: "aUd_KZn3sv4",
          thumbnail: "https://i.ytimg.com/vi/aUd_KZn3sv4/hqdefault.jpg"
        },
        {
          title: "How to Download PC Games for Free and Very Safe",
          description: "Step-by-step guide to download PC games safely and for free. Watch for trusted sources and tips!",
          youtubeLink: "https://www.youtube.com/watch?v=IaudcJln0_U",
          youtubeId: "IaudcJln0_U",
          thumbnail: "https://i.ytimg.com/vi/IaudcJln0_U/hqdefault.jpg"
        }
      ];
      
      // Merge Firebase videos with static videos, prioritizing Firebase videos
      const allVideos = [...firebaseVideos, ...staticVideos];
      
      // Check if user is admin
      const isAdmin = !!(window.VideoTutorialsData && window.VideoTutorialsData.isAllowedUser && window.VideoTutorialsData.isAllowedUser());
      
      // Clear existing content
      itemsContainer.innerHTML = '';
      
      // Render videos
      allVideos.forEach(video => {
        const videoCard = document.createElement('a');
        videoCard.href = video.youtubeLink;
        videoCard.target = '_blank';
        videoCard.rel = 'noopener';
        videoCard.className = 'video-hover-card-link';
        
        // Handle language switching
        const isKu = (document && document.body && document.body.lang === 'ku');
        const title = isKu && video.kuTitle ? video.kuTitle : video.title;
        const description = isKu && video.kuDescription ? video.kuDescription : video.description;
        
        videoCard.innerHTML = `
          <div class="video-hover-card">
            <div class="video-hover-card-image" style="background-image:url('${video.thumbnail}');"></div>
            <div class="video-hover-card-details">
              <div class="video-hover-title">${title || ''}</div>
              <div class="video-hover-part">Video Tutorial</div>
              <div class="video-hover-desc">${description || ''}</div>
            </div>
          </div>
        `;
        
        // Add admin controls for Firebase videos
        if (isAdmin && video.id) {
          const adminCtrl = document.createElement('div');
          adminCtrl.className = 'video-admin-ctrl';
          adminCtrl.style.cssText = 'position:absolute; top:8px; right:8px; display:flex; gap:6px; z-index:5;';
          
          const editBtn = document.createElement('button');
          editBtn.textContent = '✏';
          editBtn.title = 'Edit';
          editBtn.style.cssText = 'background:#0d6efd; color:#fff; border:none; border-radius:6px; padding:6px 8px; cursor:pointer; font-size:14px;';
          
          const delBtn = document.createElement('button');
          delBtn.textContent = '🗑';
          delBtn.title = 'Delete';
          delBtn.style.cssText = 'background:#dc3545; color:#fff; border:none; border-radius:6px; padding:6px 8px; cursor:pointer; font-size:14px;';
          
          adminCtrl.appendChild(editBtn);
          adminCtrl.appendChild(delBtn);
          
          // Prevent anchor navigation when clicking admin buttons
          adminCtrl.addEventListener('click', function(ev){ 
            ev.preventDefault(); 
            ev.stopPropagation(); 
          });
          
          editBtn.addEventListener('click', function(ev){
            ev.preventDefault();
            ev.stopPropagation();
            // Fill form with video data for editing
            document.getElementById('vt-title').value = video.title || '';
            document.getElementById('vt-description').value = video.description || '';
            document.getElementById('vt-ku-title').value = video.kuTitle || '';
            document.getElementById('vt-ku-description').value = video.kuDescription || '';
            document.getElementById('vt-youtube-link').value = video.youtubeLink || '';
            document.getElementById('vt-edit-id').value = video.id;
            toggleAdminPanel();
          });
          
          delBtn.addEventListener('click', function(ev){
            ev.preventDefault();
            ev.stopPropagation();
            const confirmMsg = window.getTranslation ? window.getTranslation('videoAdmin.deleteConfirm') : 'Delete this video?';
            if (confirm(confirmMsg)) {
              window.VideoTutorialsData.deleteVideo(video.id).then(() => {
                renderVideos();
                const successMsg = window.getTranslation ? window.getTranslation('videoAdmin.deletedSuccess') : 'Video deleted!';
                alert(successMsg);
              }).catch(e => {
                const errorMsg = window.getTranslation ? window.getTranslation('videoAdmin.deleteFailed') : 'Delete failed';
                alert(errorMsg + ': ' + e.message);
              });
            }
          });
          
          videoCard.style.position = 'relative';
          videoCard.appendChild(adminCtrl);
        }
        
        itemsContainer.appendChild(videoCard);
      });
      
      // Update mobile pagination
      updateMobilePagination();
      
    } catch (e) {
      console.warn('Render videos failed', e);
    }
  }
  
  // Update mobile pagination
  function updateMobilePagination() {
    const itemsContainer = document.querySelector('.items');
    if (!itemsContainer) return;
    const links = Array.from(itemsContainer.querySelectorAll('.video-hover-card-link'));
    const pager = document.getElementById('mobile-video-pager');
    const prevBtn = document.getElementById('mv-prev');
    const nextBtn = document.getElementById('mv-next');
    const info = document.getElementById('mv-info');
    let page = 1;
    const perPageMobile = 4;

    function isMobile(){
      return window.matchMedia('(max-width: 600px)').matches;
    }

    function totalPages(){
      if (!isMobile()) return 1;
      return Math.max(1, Math.ceil(links.length / perPageMobile));
    }

    function render(){
      const mobile = isMobile();
      pager.style.display = mobile && totalPages() > 1 ? 'flex' : 'none';
      if (!mobile){
        links.forEach(el => { el.style.display = ''; });
        return;
      }
      const tp = totalPages();
      if (page > tp) page = tp;
      const start = (page - 1) * perPageMobile;
      const end = start + perPageMobile;
      links.forEach((el, idx) => {
        el.style.display = (idx >= start && idx < end) ? '' : 'none';
      });
      info.textContent = page + ' / ' + tp;
      prevBtn.disabled = page <= 1;
      nextBtn.disabled = page >= tp;
    }

    if (prevBtn && nextBtn){
      prevBtn.addEventListener('click', function(){ if (page > 1){ page--; render(); } });
      nextBtn.addEventListener('click', function(){ if (page < totalPages()){ page++; render(); } });
    }

    window.addEventListener('resize', render);
    render();
  }
  
  // Initial render
  renderVideos();
});
  </script>
</body>
</html>